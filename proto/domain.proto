syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.viant.cce";
option java_outer_classname = "domain";


package gmetric;

//OperationMetric applicaiton performance operation counter
message OperationMetric{
    string name = 1;//metric name
    string unit = 2;//metric unit
    string description = 3;//metric desciption
    uint64 errorCount = 4; //total error count
    uint64 count = 5; //total count
    repeated int64 recentValues = 6; //recent operation value
    repeated int64 averages = 7; //operation averages, this could be anything for instance size or latency data
    int64 avgValue = 8;//revent value bucket average
    int64 minValue = 9;//min value in the recent average bucket
    int64 maxValue = 10;//max value in the recent average bucket
}

//KeyedOperationMetric applicaiton performance operation counter by type(key)
message KeyedOperationMetric{
    map<string, OperationMetric> metrics = 1;
}

//OperationMetricPackage operation metric pacakge
message OperationMetricPackage {
    string name = 1;
    map<string, OperationMetric> metrics = 2;
    map<string, KeyedOperationMetric> keyedMetrics = 3;
}